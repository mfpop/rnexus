from django.core.management.base import BaseCommand

from api.models import City, Country, State, ZipCode


class Command(BaseCommand):
    help = "Populate database with location data for USA and Mexico"

    def handle(self, *args, **options):
        self.stdout.write("Starting location data population...")

        try:
            # Create countries
            usa, mexico = self.create_countries()

            # Create states
            self.create_usa_states(usa)
            self.create_mexico_states(mexico)

            # Create cities and zip codes
            self.create_usa_cities_and_zipcodes(usa)
            self.create_mexico_cities_and_zipcodes(mexico)

            self.stdout.write(
                self.style.SUCCESS(
                    "‚úÖ Location data population completed successfully!"
                )
            )
            self.stdout.write(f"\nSummary:")
            self.stdout.write(f"- Countries: {Country.objects.count()}")
            self.stdout.write(f"- States: {State.objects.count()}")
            self.stdout.write(f"- Cities: {City.objects.count()}")
            self.stdout.write(f"- Zip Codes: {ZipCode.objects.count()}")

        except Exception as e:
            self.stdout.write(self.style.ERROR(f"‚ùå Error during population: {e}"))
            import traceback

            traceback.print_exc()

    def create_countries(self):
        """Create countries with phone prefix codes"""
        self.stdout.write("Creating countries...")

        countries_data = [
            {
                "code": "USA",
                "name": "United States",
                "flag_emoji": "üá∫üá∏",
                "phone_code": "+1",
            },
            {"code": "MEX", "name": "Mexico", "flag_emoji": "üá≤üáΩ", "phone_code": "+52"},
        ]

        created_countries = []
        for country_data in countries_data:
            country, created = Country.objects.get_or_create(
                code=country_data["code"], defaults=country_data
            )
            if created:
                self.stdout.write(f"Created country: {country}")
            else:
                self.stdout.write(f"Country already exists: {country}")
            created_countries.append(country)

        # Return USA and Mexico for the existing functions
        usa = Country.objects.get(code="USA")
        mexico = Country.objects.get(code="MEX")
        return usa, mexico

    def create_usa_states(self, usa):
        """Create major US states"""
        self.stdout.write("\nCreating US states...")

        us_states = [
            {"name": "California", "code": "CA"},
        ]

        for state_data in us_states:
            state, created = State.objects.get_or_create(
                name=state_data["name"],
                country=usa,
                defaults={"code": state_data["code"]},
            )
            if created:
                self.stdout.write(f"Created state: {state}")
            else:
                self.stdout.write(f"State already exists: {state}")

    def create_mexico_states(self, mexico):
        """Create major Mexican states"""
        self.stdout.write("\nCreating Mexican states...")

        mex_states = [
            {"name": "Baja California", "code": "BCN"},
        ]

        for state_data in mex_states:
            state, created = State.objects.get_or_create(
                name=state_data["name"],
                country=mexico,
                defaults={"code": state_data["code"]},
            )
            if created:
                self.stdout.write(f"Created state: {state}")
            else:
                self.stdout.write(f"State already exists: {state}")

    def create_usa_cities_and_zipcodes(self, usa):
        """Create major US cities and zip codes"""
        self.stdout.write("\nCreating US cities and zip codes...")

        # California cities - comprehensive list
        california = State.objects.get(name="California", country=usa)
        ca_cities = [
            # Major Metro Areas
            {
                "name": "Los Angeles",
                "zip_codes": [
                    "90001",
                    "90002",
                    "90003",
                    "90004",
                    "90005",
                    "90006",
                    "90007",
                    "90008",
                    "90010",
                    "90011",
                    "90012",
                    "90013",
                    "90014",
                    "90015",
                    "90016",
                    "90017",
                    "90018",
                    "90019",
                    "90020",
                    "90021",
                    "90022",
                    "90023",
                    "90024",
                    "90025",
                    "90026",
                    "90027",
                    "90028",
                    "90029",
                    "90031",
                    "90032",
                    "90033",
                    "90034",
                    "90035",
                    "90036",
                    "90037",
                    "90038",
                    "90039",
                    "90040",
                    "90041",
                    "90042",
                    "90043",
                    "90044",
                    "90045",
                    "90046",
                    "90047",
                    "90048",
                    "90049",
                    "90056",
                    "90057",
                    "90058",
                    "90059",
                    "90061",
                    "90062",
                    "90063",
                    "90064",
                    "90065",
                    "90066",
                    "90067",
                    "90068",
                    "90069",
                    "90071",
                    "90077",
                    "90078",
                    "90089",
                    "90090",
                    "90094",
                    "90095",
                    "90210",
                    "90211",
                    "90212",
                    "90230",
                    "90247",
                    "90248",
                    "90272",
                    "90291",
                    "90292",
                    "90293",
                    "90301",
                    "90302",
                    "90303",
                    "90304",
                    "90305",
                    "90401",
                    "90402",
                    "90403",
                    "90404",
                    "90405",
                    "90501",
                    "90502",
                    "90503",
                    "90504",
                    "90505",
                    "90506",
                    "90507",
                    "90508",
                    "90509",
                    "90510",
                    "90601",
                    "90602",
                    "90603",
                    "90604",
                    "90605",
                    "90606",
                    "90620",
                    "90621",
                    "90623",
                    "90630",
                    "90631",
                    "90638",
                    "90640",
                    "90650",
                    "90660",
                    "90670",
                    "90701",
                    "90702",
                    "90703",
                    "90704",
                    "90706",
                    "90707",
                    "90710",
                    "90712",
                    "90713",
                    "90714",
                    "90715",
                    "90716",
                    "90717",
                    "90720",
                    "90731",
                    "90732",
                    "90733",
                    "90734",
                    "90744",
                    "90745",
                    "90746",
                    "90747",
                    "90748",
                    "90755",
                    "90801",
                    "90802",
                    "90803",
                    "90804",
                    "90805",
                    "90806",
                    "90807",
                    "90808",
                    "90810",
                    "90813",
                    "90814",
                    "90815",
                    "90822",
                    "90831",
                    "90832",
                    "90833",
                    "90834",
                    "90835",
                    "90840",
                    "90842",
                    "90844",
                    "90846",
                    "90847",
                    "90848",
                    "91001",
                    "91006",
                    "91007",
                    "91008",
                    "91010",
                    "91011",
                    "91016",
                    "91017",
                    "91020",
                    "91024",
                    "91025",
                    "91030",
                    "91031",
                    "91040",
                    "91041",
                    "91042",
                    "91043",
                    "91101",
                    "91102",
                    "91103",
                    "91104",
                    "91105",
                    "91106",
                    "91107",
                    "91108",
                    "91109",
                    "91110",
                    "91114",
                    "91115",
                    "91116",
                    "91117",
                    "91118",
                    "91121",
                    "91123",
                    "91124",
                    "91125",
                    "91126",
                    "91129",
                    "91182",
                    "91184",
                    "91185",
                    "91188",
                    "91189",
                    "91199",
                    "91201",
                    "91202",
                    "91203",
                    "91204",
                    "91205",
                    "91206",
                    "91207",
                    "91208",
                    "91209",
                    "91210",
                    "91214",
                    "91221",
                    "91222",
                    "91224",
                    "91225",
                    "91226",
                    "91301",
                    "91302",
                    "91303",
                    "91304",
                    "91305",
                    "91306",
                    "91307",
                    "91308",
                    "91309",
                    "91310",
                    "91311",
                    "91313",
                    "91316",
                    "91319",
                    "91320",
                    "91321",
                    "91322",
                    "91324",
                    "91325",
                    "91326",
                    "91327",
                    "91328",
                    "91329",
                    "91330",
                    "91331",
                    "91333",
                    "91334",
                    "91335",
                    "91337",
                    "91340",
                    "91341",
                    "91342",
                    "91343",
                    "91344",
                    "91345",
                    "91346",
                    "91350",
                    "91351",
                    "91352",
                    "91354",
                    "91355",
                    "91356",
                    "91357",
                    "91358",
                    "91359",
                    "91360",
                    "91361",
                    "91362",
                    "91364",
                    "91365",
                    "91367",
                    "91371",
                    "91372",
                    "91376",
                    "91380",
                    "91381",
                    "91382",
                    "91383",
                    "91384",
                    "91385",
                    "91386",
                    "91387",
                    "91390",
                    "91392",
                    "91393",
                    "91394",
                    "91395",
                    "91396",
                    "91401",
                    "91402",
                    "91403",
                    "91404",
                    "91405",
                    "91406",
                    "91407",
                    "91408",
                    "91409",
                    "91410",
                    "91411",
                    "91412",
                    "91413",
                    "91416",
                    "91423",
                    "91426",
                    "91436",
                    "91470",
                    "91482",
                    "91495",
                    "91496",
                    "91499",
                    "91501",
                    "91502",
                    "91503",
                    "91504",
                    "91505",
                    "91506",
                    "91507",
                    "91508",
                    "91510",
                    "91521",
                    "91522",
                    "91523",
                    "91526",
                    "91601",
                    "91602",
                    "91603",
                    "91604",
                    "91605",
                    "91606",
                    "91607",
                    "91608",
                    "91609",
                    "91610",
                    "91611",
                    "91612",
                    "91614",
                    "91615",
                    "91616",
                    "91617",
                    "91618",
                    "91701",
                    "91702",
                    "91706",
                    "91708",
                    "91709",
                    "91710",
                    "91711",
                    "91714",
                    "91715",
                    "91716",
                    "91722",
                    "91723",
                    "91724",
                    "91731",
                    "91732",
                    "91733",
                    "91734",
                    "91735",
                    "91737",
                    "91739",
                    "91740",
                    "91741",
                    "91744",
                    "91745",
                    "91746",
                    "91747",
                    "91748",
                    "91749",
                    "91750",
                    "91754",
                    "91755",
                    "91756",
                    "91761",
                    "91762",
                    "91763",
                    "91764",
                    "91765",
                    "91766",
                    "91767",
                    "91768",
                    "91769",
                    "91770",
                    "91771",
                    "91772",
                    "91773",
                    "91775",
                    "91776",
                    "91778",
                    "91780",
                    "91784",
                    "91786",
                    "91789",
                    "91790",
                    "91791",
                    "91792",
                    "91793",
                    "91801",
                    "91803",
                    "91804",
                    "91896",
                    "91899",
                    "92301",
                    "92302",
                    "92303",
                    "92304",
                    "92305",
                    "92307",
                    "92308",
                    "92309",
                    "92310",
                    "92311",
                    "92312",
                    "92313",
                    "92314",
                    "92315",
                    "92316",
                    "92317",
                    "92318",
                    "92320",
                    "92321",
                    "92322",
                    "92324",
                    "92325",
                    "92327",
                    "92329",
                    "92335",
                    "92336",
                    "92337",
                    "92338",
                    "92339",
                    "92340",
                    "92341",
                    "92342",
                    "92344",
                    "92345",
                    "92346",
                    "92347",
                    "92350",
                    "92352",
                    "92354",
                    "92356",
                    "92357",
                    "92358",
                    "92359",
                    "92363",
                    "92364",
                    "92365",
                    "92366",
                    "92368",
                    "92369",
                    "92371",
                    "92372",
                    "92373",
                    "92374",
                    "92375",
                    "92376",
                    "92377",
                    "92378",
                    "92382",
                    "92384",
                    "92385",
                    "92386",
                    "92389",
                    "92391",
                    "92392",
                    "92393",
                    "92394",
                    "92395",
                    "92397",
                    "92398",
                    "92399",
                    "92401",
                    "92402",
                    "92403",
                    "92404",
                    "92405",
                    "92406",
                    "92407",
                    "92408",
                    "92410",
                    "92411",
                    "92413",
                    "92415",
                    "92418",
                    "92423",
                    "92427",
                    "92501",
                    "92502",
                    "92503",
                    "92504",
                    "92505",
                    "92506",
                    "92507",
                    "92508",
                    "92509",
                    "92513",
                    "92514",
                    "92515",
                    "92516",
                    "92517",
                    "92518",
                    "92519",
                    "92521",
                    "92522",
                    "92530",
                    "92531",
                    "92532",
                    "92536",
                    "92539",
                    "92543",
                    "92544",
                    "92545",
                    "92546",
                    "92548",
                    "92549",
                    "92551",
                    "92552",
                    "92553",
                    "92554",
                    "92555",
                    "92556",
                    "92557",
                    "92561",
                    "92562",
                    "92563",
                    "92564",
                    "92567",
                    "92570",
                    "92571",
                    "92572",
                    "92581",
                    "92582",
                    "92583",
                    "92584",
                    "92585",
                    "92586",
                    "92587",
                    "92589",
                    "92590",
                    "92591",
                    "92592",
                    "92593",
                    "92595",
                    "92596",
                    "92599",
                ],
            },
            {
                "name": "San Francisco",
                "zip_codes": [
                    "94102",
                    "94103",
                    "94104",
                    "94105",
                    "94107",
                    "94108",
                    "94109",
                    "94110",
                    "94111",
                    "94112",
                    "94114",
                    "94115",
                    "94116",
                    "94117",
                    "94118",
                    "94119",
                    "94120",
                    "94121",
                    "94122",
                    "94123",
                    "94124",
                    "94125",
                    "94126",
                    "94127",
                    "94128",
                    "94129",
                    "94130",
                    "94131",
                    "94132",
                    "94133",
                    "94134",
                    "94137",
                    "94138",
                    "94139",
                    "94140",
                    "94141",
                    "94142",
                    "94143",
                    "94144",
                    "94145",
                    "94146",
                    "94147",
                    "94151",
                    "94158",
                    "94159",
                    "94160",
                    "94161",
                    "94163",
                    "94164",
                    "94172",
                    "94177",
                    "94188",
                ],
            },
            {
                "name": "San Diego",
                "zip_codes": [
                    "92101",
                    "92102",
                    "92103",
                    "92104",
                    "92105",
                    "92106",
                    "92107",
                    "92108",
                    "92109",
                    "92110",
                    "92111",
                    "92112",
                    "92113",
                    "92114",
                    "92115",
                    "92116",
                    "92117",
                    "92118",
                    "92119",
                    "92120",
                    "92121",
                    "92122",
                    "92123",
                    "92124",
                    "92126",
                    "92127",
                    "92128",
                    "92129",
                    "92130",
                    "92131",
                    "92132",
                    "92134",
                    "92135",
                    "92136",
                    "92137",
                    "92138",
                    "92139",
                    "92140",
                    "92142",
                    "92143",
                    "92145",
                    "92147",
                    "92149",
                    "92150",
                    "92152",
                    "92153",
                    "92154",
                    "92155",
                    "92158",
                    "92159",
                    "92160",
                    "92161",
                    "92162",
                    "92163",
                    "92165",
                    "92166",
                    "92167",
                    "92168",
                    "92169",
                    "92170",
                    "92171",
                    "92172",
                    "92173",
                    "92174",
                    "92175",
                    "92176",
                    "92177",
                    "92178",
                    "92179",
                    "92182",
                    "92186",
                    "92187",
                    "92191",
                    "92192",
                    "92193",
                    "92194",
                    "92195",
                    "92196",
                    "92197",
                    "92198",
                    "92199",
                ],
            },
            {
                "name": "San Jose",
                "zip_codes": [
                    "95101",
                    "95103",
                    "95106",
                    "95108",
                    "95109",
                    "95110",
                    "95111",
                    "95112",
                    "95113",
                    "95116",
                    "95117",
                    "95118",
                    "95119",
                    "95120",
                    "95121",
                    "95122",
                    "95123",
                    "95124",
                    "95125",
                    "95126",
                    "95127",
                    "95128",
                    "95129",
                    "95130",
                    "95131",
                    "95132",
                    "95133",
                    "95134",
                    "95135",
                    "95136",
                    "95138",
                    "95139",
                    "95140",
                    "95141",
                    "95148",
                    "95150",
                    "95151",
                    "95152",
                    "95153",
                    "95154",
                    "95155",
                    "95156",
                    "95157",
                    "95158",
                    "95159",
                    "95160",
                    "95161",
                    "95164",
                    "95170",
                    "95172",
                    "95173",
                    "95190",
                    "95191",
                    "95192",
                    "95193",
                    "95194",
                    "95196",
                ],
            },
            {
                "name": "Sacramento",
                "zip_codes": [
                    "95814",
                    "95815",
                    "95816",
                    "95817",
                    "95818",
                    "95819",
                    "95820",
                    "95821",
                    "95822",
                    "95823",
                    "95824",
                    "95825",
                    "95826",
                    "95827",
                    "95828",
                    "95829",
                    "95830",
                    "95831",
                    "95832",
                    "95833",
                    "95834",
                    "95835",
                    "95837",
                    "95838",
                    "95841",
                    "95842",
                    "95843",
                    "95864",
                    "95865",
                    "95866",
                    "95867",
                    "95894",
                    "95899",
                ],
            },
            # Bay Area Cities
            {
                "name": "Oakland",
                "zip_codes": [
                    "94601",
                    "94602",
                    "94603",
                    "94605",
                    "94606",
                    "94607",
                    "94608",
                    "94609",
                    "94610",
                    "94611",
                    "94612",
                    "94613",
                    "94618",
                    "94619",
                    "94621",
                    "94702",
                    "94703",
                    "94704",
                    "94705",
                    "94706",
                    "94707",
                    "94708",
                    "94709",
                    "94710",
                    "94720",
                ],
            },
            {
                "name": "Fremont",
                "zip_codes": ["94536", "94537", "94538", "94539", "94555"],
            },
            {
                "name": "Berkeley",
                "zip_codes": [
                    "94702",
                    "94703",
                    "94704",
                    "94705",
                    "94706",
                    "94707",
                    "94708",
                    "94709",
                    "94710",
                    "94720",
                ],
            },
            {
                "name": "Santa Clara",
                "zip_codes": [
                    "95050",
                    "95051",
                    "95052",
                    "95053",
                    "95054",
                    "95055",
                    "95056",
                ],
            },
            {
                "name": "Sunnyvale",
                "zip_codes": ["94085", "94086", "94087", "94088", "94089"],
            },
            {
                "name": "Mountain View",
                "zip_codes": ["94035", "94039", "94040", "94041", "94042", "94043"],
            },
            {
                "name": "Palo Alto",
                "zip_codes": [
                    "94301",
                    "94302",
                    "94303",
                    "94304",
                    "94305",
                    "94306",
                    "94309",
                ],
            },
            {
                "name": "Cupertino",
                "zip_codes": ["95014", "95015"],
            },
            {
                "name": "San Mateo",
                "zip_codes": ["94401", "94402", "94403", "94404", "94405"],
            },
            {
                "name": "Daly City",
                "zip_codes": ["94014", "94015", "94017"],
            },
            # Central Valley Cities
            {
                "name": "Fresno",
                "zip_codes": [
                    "93650",
                    "93701",
                    "93702",
                    "93703",
                    "93704",
                    "93705",
                    "93706",
                    "93707",
                    "93708",
                    "93710",
                    "93711",
                    "93712",
                    "93714",
                    "93715",
                    "93716",
                    "93717",
                    "93718",
                    "93720",
                    "93721",
                    "93722",
                    "93723",
                    "93724",
                    "93725",
                    "93726",
                    "93727",
                    "93728",
                    "93729",
                    "93730",
                    "93737",
                    "93740",
                    "93741",
                    "93744",
                    "93745",
                    "93747",
                    "93750",
                    "93755",
                    "93760",
                    "93761",
                    "93764",
                    "93765",
                    "93771",
                    "93772",
                    "93773",
                    "93774",
                    "93775",
                    "93776",
                    "93777",
                    "93778",
                    "93786",
                    "93790",
                    "93791",
                    "93792",
                    "93793",
                    "93794",
                    "93844",
                    "93888",
                    "93896",
                    "93899",
                ],
            },
            {
                "name": "Bakersfield",
                "zip_codes": [
                    "93301",
                    "93302",
                    "93303",
                    "93304",
                    "93305",
                    "93306",
                    "93307",
                    "93308",
                    "93309",
                    "93311",
                    "93312",
                    "93313",
                    "93314",
                    "93380",
                    "93383",
                    "93384",
                    "93385",
                    "93386",
                    "93387",
                    "93388",
                    "93389",
                    "93390",
                ],
            },
            {
                "name": "Stockton",
                "zip_codes": [
                    "95201",
                    "95202",
                    "95203",
                    "95204",
                    "95205",
                    "95206",
                    "95207",
                    "95208",
                    "95209",
                    "95210",
                    "95211",
                    "95212",
                    "95213",
                    "95215",
                    "95219",
                    "95267",
                    "95269",
                    "95296",
                    "95297",
                    "95298",
                ],
            },
            {
                "name": "Modesto",
                "zip_codes": [
                    "95350",
                    "95351",
                    "95352",
                    "95353",
                    "95354",
                    "95355",
                    "95356",
                    "95357",
                    "95358",
                ],
            },
            {
                "name": "Visalia",
                "zip_codes": ["93277", "93278", "93279", "93290", "93291", "93292"],
            },
            # Orange County
            {
                "name": "Anaheim",
                "zip_codes": [
                    "92801",
                    "92802",
                    "92803",
                    "92804",
                    "92805",
                    "92806",
                    "92807",
                    "92808",
                    "92809",
                    "92812",
                    "92814",
                    "92815",
                    "92816",
                    "92817",
                    "92825",
                    "92850",
                    "92899",
                ],
            },
            {
                "name": "Santa Ana",
                "zip_codes": [
                    "92701",
                    "92702",
                    "92703",
                    "92704",
                    "92705",
                    "92706",
                    "92707",
                    "92708",
                    "92711",
                    "92712",
                    "92725",
                    "92728",
                    "92735",
                    "92799",
                ],
            },
            {
                "name": "Irvine",
                "zip_codes": [
                    "92602",
                    "92603",
                    "92604",
                    "92606",
                    "92612",
                    "92614",
                    "92616",
                    "92617",
                    "92618",
                    "92619",
                    "92620",
                    "92623",
                    "92650",
                    "92697",
                ],
            },
            {
                "name": "Huntington Beach",
                "zip_codes": ["92605", "92615", "92646", "92647", "92648", "92649"],
            },
            {
                "name": "Orange",
                "zip_codes": [
                    "92856",
                    "92857",
                    "92859",
                    "92862",
                    "92863",
                    "92864",
                    "92865",
                    "92866",
                    "92867",
                    "92868",
                    "92869",
                ],
            },
            # Inland Empire
            {
                "name": "Riverside",
                "zip_codes": [
                    "92501",
                    "92502",
                    "92503",
                    "92504",
                    "92505",
                    "92506",
                    "92507",
                    "92508",
                    "92509",
                    "92513",
                    "92514",
                    "92515",
                    "92516",
                    "92517",
                    "92518",
                    "92519",
                    "92521",
                    "92522",
                ],
            },
            {
                "name": "San Bernardino",
                "zip_codes": [
                    "92401",
                    "92402",
                    "92403",
                    "92404",
                    "92405",
                    "92406",
                    "92407",
                    "92408",
                    "92410",
                    "92411",
                    "92413",
                    "92415",
                    "92418",
                    "92423",
                    "92427",
                ],
            },
            {
                "name": "Fontana",
                "zip_codes": ["92316", "92331", "92335", "92336", "92337"],
            },
            {
                "name": "Rancho Cucamonga",
                "zip_codes": ["91701", "91729", "91730", "91737", "91739"],
            },
            {
                "name": "Ontario",
                "zip_codes": ["91758", "91761", "91762", "91764"],
            },
            # Northern California
            {
                "name": "Redding",
                "zip_codes": ["96001", "96002", "96003", "96019", "96049", "96099"],
            },
            {
                "name": "Chico",
                "zip_codes": ["95926", "95927", "95928", "95929", "95973"],
            },
            {
                "name": "Eureka",
                "zip_codes": ["95501", "95502", "95503", "95521"],
            },
            # Coastal Cities
            {
                "name": "Santa Barbara",
                "zip_codes": [
                    "93101",
                    "93102",
                    "93103",
                    "93105",
                    "93106",
                    "93107",
                    "93108",
                    "93109",
                    "93110",
                    "93111",
                    "93117",
                    "93118",
                    "93120",
                    "93121",
                    "93130",
                    "93140",
                    "93150",
                    "93160",
                    "93190",
                    "93199",
                ],
            },
            {
                "name": "Ventura",
                "zip_codes": [
                    "93001",
                    "93002",
                    "93003",
                    "93004",
                    "93005",
                    "93006",
                    "93007",
                    "93009",
                ],
            },
            {
                "name": "Oxnard",
                "zip_codes": [
                    "93030",
                    "93031",
                    "93032",
                    "93033",
                    "93034",
                    "93035",
                    "93036",
                ],
            },
            {
                "name": "Thousand Oaks",
                "zip_codes": ["91319", "91320", "91358", "91360", "91361", "91362"],
            },
            {
                "name": "Simi Valley",
                "zip_codes": ["93063", "93065"],
            },
            # Central Coast
            {
                "name": "Salinas",
                "zip_codes": [
                    "93901",
                    "93902",
                    "93905",
                    "93906",
                    "93907",
                    "93912",
                    "93915",
                ],
            },
            {
                "name": "Monterey",
                "zip_codes": ["93940", "93943", "93944"],
            },
            {
                "name": "Santa Cruz",
                "zip_codes": [
                    "95060",
                    "95061",
                    "95062",
                    "95063",
                    "95064",
                    "95065",
                    "95066",
                    "95067",
                ],
            },
            {
                "name": "San Luis Obispo",
                "zip_codes": [
                    "93401",
                    "93402",
                    "93403",
                    "93405",
                    "93406",
                    "93407",
                    "93408",
                    "93409",
                    "93410",
                ],
            },
            # Desert Cities
            {
                "name": "Palm Springs",
                "zip_codes": ["92240", "92262", "92264"],
            },
            {
                "name": "Palm Desert",
                "zip_codes": ["92211", "92260", "92261"],
            },
            {
                "name": "Indio",
                "zip_codes": ["92201", "92203"],
            },
            {
                "name": "Lancaster",
                "zip_codes": ["93534", "93535", "93536", "93539"],
            },
            {
                "name": "Palmdale",
                "zip_codes": ["93550", "93551", "93552"],
            },
            # Additional Major Cities
            {
                "name": "Long Beach",
                "zip_codes": [
                    "90801",
                    "90802",
                    "90803",
                    "90804",
                    "90805",
                    "90806",
                    "90807",
                    "90808",
                    "90810",
                    "90813",
                    "90814",
                    "90815",
                    "90822",
                    "90831",
                    "90832",
                    "90833",
                    "90834",
                    "90835",
                    "90840",
                    "90842",
                    "90844",
                    "90846",
                    "90847",
                    "90848",
                ],
            },
            {
                "name": "Glendale",
                "zip_codes": [
                    "91201",
                    "91202",
                    "91203",
                    "91204",
                    "91205",
                    "91206",
                    "91207",
                    "91208",
                    "91209",
                    "91210",
                    "91214",
                    "91221",
                    "91222",
                    "91224",
                    "91225",
                    "91226",
                ],
            },
            {
                "name": "Pasadena",
                "zip_codes": [
                    "91101",
                    "91102",
                    "91103",
                    "91104",
                    "91105",
                    "91106",
                    "91107",
                    "91108",
                    "91109",
                    "91110",
                    "91114",
                    "91115",
                    "91116",
                    "91117",
                    "91118",
                    "91121",
                    "91123",
                    "91124",
                    "91125",
                    "91126",
                    "91129",
                    "91182",
                    "91184",
                    "91185",
                    "91188",
                    "91189",
                    "91199",
                ],
            },
            {
                "name": "Burbank",
                "zip_codes": [
                    "91501",
                    "91502",
                    "91503",
                    "91504",
                    "91505",
                    "91506",
                    "91507",
                    "91508",
                    "91510",
                    "91521",
                    "91522",
                    "91523",
                    "91526",
                ],
            },
            {
                "name": "Torrance",
                "zip_codes": [
                    "90501",
                    "90502",
                    "90503",
                    "90504",
                    "90505",
                    "90506",
                    "90507",
                    "90508",
                    "90509",
                    "90510",
                ],
            },
        ]

        for city_data in ca_cities:
            city, created = City.objects.get_or_create(
                name=city_data["name"], state=california, country=usa
            )
            if created:
                self.stdout.write(f"Created city: {city}")
            else:
                self.stdout.write(f"City already exists: {city}")

            # Create zip codes for this city
            for zip_code in city_data["zip_codes"]:
                zip_obj, created = ZipCode.objects.get_or_create(
                    code=zip_code, city=city, state=california, country=usa
                )
                if created:
                    self.stdout.write(f"  Created zip code: {zip_code}")

    def create_mexico_cities_and_zipcodes(self, mexico):
        """Create major Mexican cities and zip codes"""
        self.stdout.write("\nCreating Mexican cities and zip codes...")

        # Baja California cities - comprehensive list
        baja_california = State.objects.get(name="Baja California", country=mexico)
        baja_cities = [
            # Major Cities
            {
                "name": "Tijuana",
                "zip_codes": [
                    "22000",
                    "22001",
                    "22002",
                    "22003",
                    "22004",
                    "22005",
                    "22006",
                    "22007",
                    "22008",
                    "22009",
                    "22010",
                    "22011",
                    "22012",
                    "22013",
                    "22014",
                    "22015",
                    "22016",
                    "22017",
                    "22018",
                    "22019",
                    "22020",
                    "22021",
                    "22022",
                    "22023",
                    "22024",
                    "22025",
                    "22026",
                    "22027",
                    "22028",
                    "22029",
                    "22030",
                    "22031",
                    "22032",
                    "22033",
                    "22034",
                    "22035",
                    "22036",
                    "22037",
                    "22038",
                    "22039",
                    "22040",
                    "22041",
                    "22042",
                    "22043",
                    "22044",
                    "22045",
                    "22046",
                    "22047",
                    "22048",
                    "22049",
                    "22050",
                    "22054",
                    "22055",
                    "22056",
                    "22057",
                    "22058",
                    "22059",
                    "22060",
                    "22061",
                    "22062",
                    "22063",
                    "22064",
                    "22065",
                    "22066",
                    "22067",
                    "22068",
                    "22070",
                    "22071",
                    "22072",
                    "22073",
                    "22074",
                    "22075",
                    "22076",
                    "22077",
                    "22078",
                    "22079",
                    "22080",
                    "22081",
                    "22082",
                    "22083",
                    "22084",
                    "22085",
                    "22086",
                    "22087",
                    "22088",
                    "22089",
                    "22090",
                    "22091",
                    "22092",
                    "22093",
                    "22094",
                    "22095",
                    "22096",
                    "22097",
                    "22098",
                    "22099",
                    "22100",
                    "22101",
                    "22102",
                    "22103",
                    "22104",
                    "22105",
                    "22106",
                    "22107",
                    "22108",
                    "22109",
                    "22110",
                    "22111",
                    "22112",
                    "22113",
                    "22114",
                    "22115",
                    "22116",
                    "22117",
                    "22118",
                    "22119",
                    "22120",
                    "22121",
                    "22122",
                    "22123",
                    "22124",
                    "22125",
                    "22126",
                    "22127",
                    "22128",
                    "22129",
                    "22130",
                    "22131",
                    "22132",
                    "22133",
                    "22134",
                    "22135",
                    "22136",
                    "22137",
                    "22138",
                    "22139",
                    "22140",
                    "22141",
                    "22142",
                    "22143",
                    "22144",
                    "22145",
                    "22146",
                    "22147",
                    "22148",
                    "22149",
                    "22150",
                    "22151",
                    "22152",
                    "22153",
                    "22154",
                    "22155",
                    "22156",
                    "22157",
                    "22158",
                    "22159",
                    "22160",
                    "22161",
                    "22162",
                    "22163",
                    "22164",
                    "22165",
                    "22166",
                    "22167",
                    "22168",
                    "22169",
                    "22170",
                    "22171",
                    "22172",
                    "22173",
                    "22174",
                    "22175",
                    "22176",
                    "22177",
                    "22178",
                    "22179",
                    "22180",
                    "22181",
                    "22182",
                    "22183",
                    "22184",
                    "22185",
                    "22186",
                    "22187",
                    "22188",
                    "22189",
                    "22190",
                    "22191",
                    "22192",
                    "22193",
                    "22194",
                    "22195",
                    "22196",
                    "22197",
                    "22198",
                    "22199",
                    "22200",
                    "22201",
                    "22202",
                    "22203",
                    "22204",
                    "22205",
                    "22206",
                    "22207",
                    "22208",
                    "22209",
                    "22210",
                    "22215",
                    "22216",
                    "22217",
                    "22218",
                    "22219",
                    "22220",
                    "22223",
                    "22224",
                    "22225",
                    "22226",
                    "22230",
                    "22235",
                    "22240",
                    "22244",
                    "22245",
                    "22253",
                    "22254",
                    "22255",
                    "22256",
                    "22260",
                    "22263",
                    "22264",
                    "22265",
                    "22266",
                    "22267",
                    "22268",
                    "22269",
                    "22270",
                    "22272",
                    "22273",
                    "22274",
                    "22275",
                    "22276",
                    "22277",
                    "22278",
                    "22279",
                    "22280",
                    "22281",
                    "22282",
                    "22283",
                    "22284",
                    "22285",
                    "22290",
                    "22300",
                    "22320",
                    "22427",
                    "22430",
                    "22435",
                    "22440",
                    "22444",
                    "22445",
                    "22446",
                    "22447",
                    "22448",
                    "22449",
                    "22450",
                    "22454",
                    "22455",
                    "22456",
                    "22457",
                    "22458",
                    "22459",
                    "22460",
                    "22463",
                    "22464",
                    "22465",
                    "22466",
                    "22467",
                    "22468",
                    "22469",
                    "22470",
                    "22472",
                    "22473",
                    "22474",
                    "22475",
                    "22476",
                    "22477",
                    "22478",
                    "22479",
                    "22480",
                    "22481",
                    "22482",
                    "22483",
                    "22484",
                    "22485",
                    "22486",
                    "22490",
                    "22500",
                    "22504",
                    "22505",
                    "22510",
                    "22517",
                    "22518",
                    "22519",
                    "22520",
                    "22523",
                    "22524",
                    "22525",
                    "22526",
                    "22534",
                    "22535",
                    "22536",
                    "22537",
                    "22538",
                    "22539",
                    "22540",
                    "22544",
                    "22545",
                    "22546",
                    "22547",
                    "22548",
                    "22549",
                    "22550",
                    "22554",
                    "22555",
                    "22556",
                    "22557",
                    "22558",
                    "22559",
                    "22560",
                    "22563",
                    "22564",
                    "22565",
                    "22566",
                    "22567",
                    "22568",
                    "22569",
                    "22570",
                    "22572",
                    "22573",
                    "22574",
                    "22575",
                    "22576",
                    "22577",
                    "22578",
                    "22579",
                    "22580",
                    "22581",
                    "22582",
                    "22583",
                    "22584",
                    "22585",
                    "22586",
                    "22590",
                    "22594",
                    "22595",
                    "22596",
                    "22597",
                    "22598",
                    "22599",
                    "22600",
                    "22604",
                    "22605",
                    "22610",
                    "22614",
                    "22615",
                    "22616",
                    "22617",
                    "22618",
                    "22619",
                    "22620",
                    "22623",
                    "22624",
                    "22625",
                    "22626",
                    "22627",
                    "22628",
                    "22629",
                    "22630",
                    "22634",
                    "22635",
                    "22636",
                    "22637",
                    "22638",
                    "22639",
                    "22640",
                    "22643",
                    "22644",
                    "22645",
                    "22646",
                    "22647",
                    "22648",
                    "22649",
                    "22650",
                    "22654",
                    "22655",
                    "22656",
                    "22657",
                    "22658",
                    "22659",
                    "22660",
                    "22663",
                    "22664",
                    "22665",
                    "22666",
                    "22667",
                    "22668",
                    "22669",
                    "22670",
                    "22672",
                    "22673",
                    "22674",
                    "22675",
                    "22676",
                    "22677",
                    "22678",
                    "22679",
                    "22680",
                    "22683",
                    "22684",
                    "22685",
                    "22686",
                    "22687",
                    "22688",
                    "22689",
                    "22690",
                    "22694",
                    "22695",
                    "22696",
                    "22697",
                    "22698",
                    "22699",
                    "22700",
                    "22703",
                    "22704",
                    "22705",
                    "22706",
                    "22707",
                    "22708",
                    "22710",
                    "22713",
                    "22714",
                    "22715",
                    "22716",
                    "22717",
                    "22718",
                    "22719",
                    "22720",
                    "22723",
                    "22724",
                    "22725",
                    "22726",
                    "22727",
                    "22728",
                    "22730",
                    "22733",
                    "22734",
                    "22735",
                    "22736",
                    "22739",
                    "22740",
                    "22743",
                    "22744",
                    "22745",
                    "22746",
                    "22747",
                    "22748",
                    "22749",
                    "22750",
                    "22753",
                    "22754",
                    "22755",
                    "22756",
                    "22759",
                    "22760",
                    "22763",
                    "22764",
                    "22765",
                    "22766",
                    "22767",
                    "22768",
                    "22769",
                    "22770",
                    "22773",
                    "22774",
                    "22775",
                    "22776",
                    "22777",
                    "22778",
                    "22779",
                    "22780",
                    "22783",
                    "22784",
                    "22785",
                    "22786",
                    "22787",
                    "22788",
                    "22789",
                    "22790",
                    "22793",
                    "22794",
                    "22795",
                    "22796",
                    "22797",
                    "22798",
                    "22799",
                ],
            },
            {
                "name": "Mexicali",
                "zip_codes": [
                    "21000",
                    "21010",
                    "21020",
                    "21030",
                    "21040",
                    "21050",
                    "21060",
                    "21070",
                    "21080",
                    "21090",
                    "21100",
                    "21110",
                    "21120",
                    "21130",
                    "21140",
                    "21150",
                    "21160",
                    "21170",
                    "21180",
                    "21190",
                    "21200",
                    "21210",
                    "21220",
                    "21230",
                    "21240",
                    "21250",
                    "21259",
                    "21260",
                    "21270",
                    "21280",
                    "21289",
                    "21290",
                    "21299",
                    "21300",
                    "21310",
                    "21320",
                    "21330",
                    "21340",
                    "21350",
                    "21360",
                    "21370",
                    "21378",
                    "21379",
                    "21380",
                    "21387",
                    "21388",
                    "21389",
                    "21390",
                    "21394",
                    "21395",
                    "21396",
                    "21397",
                    "21398",
                    "21399",
                    "21400",
                    "21410",
                    "21420",
                    "21430",
                    "21440",
                    "21450",
                    "21460",
                    "21470",
                    "21480",
                    "21490",
                    "21500",
                    "21510",
                    "21520",
                    "21530",
                    "21540",
                    "21550",
                    "21560",
                    "21570",
                    "21580",
                    "21590",
                    "21600",
                    "21610",
                    "21620",
                    "21630",
                    "21640",
                    "21650",
                    "21660",
                    "21670",
                    "21680",
                    "21690",
                    "21700",
                    "21705",
                    "21710",
                    "21720",
                    "21725",
                    "21730",
                    "21740",
                    "21750",
                    "21760",
                    "21770",
                    "21780",
                    "21790",
                    "21800",
                    "21810",
                    "21820",
                    "21830",
                    "21840",
                    "21850",
                    "21860",
                    "21870",
                    "21880",
                    "21890",
                    "21900",
                    "21910",
                    "21920",
                    "21930",
                    "21940",
                    "21950",
                    "21960",
                    "21970",
                    "21980",
                    "21990",
                    "22103",
                    "22104",
                    "22105",
                    "22106",
                    "22107",
                    "22108",
                    "22109",
                    "22110",
                    "22113",
                    "22114",
                    "22115",
                    "22116",
                    "22117",
                    "22118",
                    "22119",
                    "22120",
                    "22123",
                    "22124",
                    "22125",
                    "22126",
                    "22129",
                    "22130",
                    "22133",
                    "22134",
                    "22135",
                    "22136",
                    "22137",
                    "22138",
                    "22139",
                    "22140",
                    "22143",
                    "22144",
                    "22145",
                    "22146",
                    "22149",
                    "22150",
                    "22153",
                    "22154",
                    "22155",
                    "22156",
                    "22159",
                    "22160",
                    "22163",
                    "22164",
                    "22165",
                    "22166",
                    "22169",
                    "22170",
                    "22173",
                    "22174",
                    "22175",
                    "22176",
                    "22179",
                    "22180",
                    "22183",
                    "22184",
                    "22185",
                    "22186",
                    "22189",
                    "22190",
                    "22193",
                    "22194",
                    "22195",
                    "22196",
                    "22199",
                    "22200",
                    "22203",
                    "22204",
                    "22205",
                    "22206",
                    "22209",
                    "22210",
                    "22213",
                    "22214",
                    "22215",
                    "22216",
                    "22219",
                    "22220",
                    "22223",
                    "22224",
                    "22225",
                    "22226",
                    "22229",
                    "22230",
                    "22233",
                    "22234",
                    "22235",
                    "22236",
                    "22239",
                    "22240",
                    "22243",
                    "22244",
                    "22245",
                    "22246",
                    "22249",
                    "22250",
                    "22253",
                    "22254",
                    "22255",
                    "22256",
                    "22259",
                    "22260",
                    "22263",
                    "22264",
                    "22265",
                    "22266",
                    "22269",
                    "22270",
                    "22273",
                    "22274",
                    "22275",
                    "22276",
                    "22279",
                    "22280",
                    "22283",
                    "22284",
                    "22285",
                    "22286",
                    "22289",
                    "22290",
                    "22293",
                    "22294",
                    "22295",
                    "22296",
                    "22299",
                ],
            },
            {
                "name": "Ensenada",
                "zip_codes": [
                    "22800",
                    "22810",
                    "22820",
                    "22830",
                    "22840",
                    "22850",
                    "22860",
                    "22870",
                    "22880",
                    "22890",
                    "22900",
                    "22903",
                    "22904",
                    "22905",
                    "22906",
                    "22907",
                    "22908",
                    "22909",
                    "22910",
                    "22913",
                    "22914",
                    "22915",
                    "22916",
                    "22917",
                    "22918",
                    "22919",
                    "22920",
                    "22923",
                    "22924",
                    "22925",
                    "22926",
                    "22927",
                    "22928",
                    "22929",
                    "22930",
                    "22933",
                    "22934",
                    "22935",
                    "22936",
                    "22937",
                    "22938",
                    "22939",
                    "22940",
                    "22943",
                    "22944",
                    "22945",
                    "22946",
                    "22947",
                    "22948",
                    "22949",
                    "22950",
                    "22953",
                    "22954",
                    "22955",
                    "22956",
                    "22957",
                    "22958",
                    "22959",
                    "22960",
                    "22963",
                    "22964",
                    "22965",
                    "22966",
                    "22967",
                    "22968",
                    "22969",
                    "22970",
                    "22973",
                    "22974",
                    "22975",
                    "22976",
                    "22977",
                    "22978",
                    "22979",
                    "22980",
                    "22983",
                    "22984",
                    "22985",
                    "22986",
                    "22987",
                    "22988",
                    "22989",
                    "22990",
                    "22993",
                    "22994",
                    "22995",
                    "22996",
                    "22997",
                    "22998",
                    "22999",
                ],
            },
            # Additional Baja California Cities
            {
                "name": "Tecate",
                "zip_codes": [
                    "21400",
                    "21410",
                    "21420",
                    "21430",
                    "21440",
                    "21450",
                    "21460",
                    "21470",
                ],
            },
            {
                "name": "Playas de Rosarito",
                "zip_codes": [
                    "22710",
                    "22713",
                    "22714",
                    "22715",
                    "22716",
                    "22717",
                    "22718",
                    "22719",
                    "22720",
                    "22723",
                    "22724",
                    "22725",
                    "22726",
                    "22727",
                    "22728",
                    "22729",
                    "22730",
                ],
            },
            {
                "name": "San Felipe",
                "zip_codes": ["21850", "21860"],
            },
            {
                "name": "La Paz",
                "zip_codes": ["21900", "21910", "21920"],
            },
            {
                "name": "San Quint√≠n",
                "zip_codes": ["22930", "22940", "22950"],
            },
            {
                "name": "Valle de Guadalupe",
                "zip_codes": ["22750", "22755", "22760"],
            },
            {
                "name": "Puerto Nuevo",
                "zip_codes": ["22712", "22713"],
            },
        ]

        for city_data in baja_cities:
            city, created = City.objects.get_or_create(
                name=city_data["name"], state=baja_california, country=mexico
            )
            if created:
                self.stdout.write(f"Created city: {city}")
            else:
                self.stdout.write(f"City already exists: {city}")

            # Create zip codes for this city
            for zip_code in city_data["zip_codes"]:
                zip_obj, created = ZipCode.objects.get_or_create(
                    code=zip_code, city=city, state=baja_california, country=mexico
                )
                if created:
                    self.stdout.write(f"  Created zip code: {zip_code}")
