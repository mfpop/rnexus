<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Address Card Component Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
        }
        .success { background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .error { background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .info { background-color: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb; }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .test-result {
            margin: 10px 0;
            padding: 8px;
            border-radius: 4px;
        }
        .pass { background-color: #d4edda; color: #155724; }
        .fail { background-color: #f8d7da; color: #721c24; }
        .code-block {
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 15px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
        }
        button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover { background-color: #0056b3; }
        .address-card {
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            margin: 20px 0;
        }
        .card-header {
            padding: 16px;
            border-bottom: 1px solid #e9ecef;
        }
        .card-title {
            font-size: 18px;
            font-weight: 600;
            color: #333;
            margin: 0;
        }
        .card-subtitle {
            font-size: 14px;
            color: #666;
            margin: 4px 0 0 0;
        }
        .card-content {
            padding: 16px;
        }
        .form-field {
            margin-bottom: 16px;
        }
        .form-field label {
            display: block;
            font-weight: 500;
            margin-bottom: 4px;
            color: #333;
        }
        .required {
            color: #dc3545;
        }
        .form-field input, .form-field select {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }
        .form-field input:focus, .form-field select:focus {
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 0 2px rgba(0,123,255,0.25);
        }
        .form-field input:disabled, .form-field select:disabled {
            background-color: #f8f9fa;
            cursor: not-allowed;
        }
        .help-text {
            font-size: 12px;
            color: #666;
            margin-top: 4px;
        }
        .error-text {
            font-size: 12px;
            color: #dc3545;
            margin-top: 4px;
        }
        .address-summary {
            margin-top: 16px;
            padding: 12px;
            background-color: #f8f9fa;
            border-radius: 4px;
        }
        .summary-title {
            font-size: 14px;
            font-weight: 500;
            color: #333;
            margin-bottom: 8px;
        }
        .summary-content {
            font-size: 14px;
            color: #666;
        }
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .feature-card {
            padding: 15px;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            background: white;
        }
        .feature-title {
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }
        .feature-description {
            font-size: 14px;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üè† Address Card Component Test</h1>

        <div class="status info">
            <strong>Component:</strong> AddressCard - A clean, reusable address input component with cascading dropdowns and validation.
        </div>

        <div class="test-section">
            <h2>üéØ Component Features</h2>
            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-title">Cascading Dropdowns</div>
                    <div class="feature-description">Country ‚Üí State ‚Üí City ‚Üí ZIP Code with automatic dependency management</div>
                </div>
                <div class="feature-card">
                    <div class="feature-title">Real-time Validation</div>
                    <div class="feature-description">Error messages and required field indicators</div>
                </div>
                <div class="feature-card">
                    <div class="feature-title">Loading States</div>
                    <div class="feature-description">Visual feedback during data loading</div>
                </div>
                <div class="feature-card">
                    <div class="feature-title">Address Summary</div>
                    <div class="feature-description">Live preview of complete address</div>
                </div>
                <div class="feature-card">
                    <div class="feature-title">Auto-reset Logic</div>
                    <div class="feature-description">Dependent fields reset when parent changes</div>
                </div>
                <div class="feature-card">
                    <div class="feature-title">Accessibility</div>
                    <div class="feature-description">Proper labels, ARIA attributes, and keyboard navigation</div>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h2>üìù Component Structure</h2>
            <div class="code-block">
// AddressCard.tsx
interface AddressData {
  country: string;
  state_province: string;
  city: string;
  zip_code: string;
  street_address: string;
  apartment_suite: string;
}

interface AddressCardProps {
  addressData: AddressData;
  onAddressChange: (field: keyof AddressData, value: string) => void;
  errors?: Record&lt;string, string&gt;;
}

// Key Features:
- TypeScript interfaces for type safety
- Props-based data management
- Error handling and validation
- GraphQL integration for location data
- Cascading dropdown logic
- Real-time address summary
            </div>
        </div>

        <div class="test-section">
            <h2>üé® Component Preview</h2>
            <div class="address-card">
                <div class="card-header">
                    <h3 class="card-title">Address Information</h3>
                    <p class="card-subtitle">Enter your complete address details</p>
                </div>
                <div class="card-content">
                    <div class="form-field">
                        <label>Country <span class="required">*</span></label>
                        <select>
                            <option value="">Select country</option>
                            <option value="1">United States</option>
                            <option value="2">Canada</option>
                            <option value="3">Mexico</option>
                        </select>
                        <div class="help-text">Loading countries...</div>
                    </div>

                    <div class="form-field">
                        <label>State/Province <span class="required">*</span></label>
                        <select disabled>
                            <option value="">Select state/province</option>
                        </select>
                        <div class="help-text">Please select a country first</div>
                    </div>

                    <div class="form-field">
                        <label>City <span class="required">*</span></label>
                        <select disabled>
                            <option value="">Select city</option>
                        </select>
                        <div class="help-text">Please select a state/province first</div>
                    </div>

                    <div class="form-field">
                        <label>ZIP Code <span class="required">*</span></label>
                        <select disabled>
                            <option value="">Select ZIP code</option>
                        </select>
                        <div class="help-text">Please select a city first</div>
                    </div>

                    <div class="form-field">
                        <label>Street Address <span class="required">*</span></label>
                        <input type="text" placeholder="Enter street address">
                    </div>

                    <div class="form-field">
                        <label>Apartment/Suite</label>
                        <input type="text" placeholder="Enter apartment/suite (optional)">
                    </div>

                    <div class="address-summary">
                        <div class="summary-title">Address Summary:</div>
                        <div class="summary-content">
                            123 Main Street<br>
                            Apt 4B<br>
                            New York, NY, United States 10001
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h2>üîß Usage Example</h2>
            <div class="code-block">
// Parent Component Usage
import AddressCard from './AddressCard';

const ProfilePage = () => {
  const [addressData, setAddressData] = useState({
    country: '',
    state_province: '',
    city: '',
    zip_code: '',
    street_address: '',
    apartment_suite: ''
  });

  const [errors, setErrors] = useState({});

  const handleAddressChange = (field, value) => {
    setAddressData(prev => ({ ...prev, [field]: value }));
  };

  return (
    &lt;AddressCard
      addressData={addressData}
      onAddressChange={handleAddressChange}
      errors={errors}
    /&gt;
  );
};
            </div>
        </div>

        <div class="test-section">
            <h2>üß™ Testing Instructions</h2>
            <div class="code-block">
1. Import AddressCard component
2. Set up state management for address data
3. Implement onAddressChange handler
4. Test cascading dropdown behavior:
   - Select country ‚Üí states load
   - Select state ‚Üí cities load
   - Select city ‚Üí ZIP codes load
5. Test validation:
   - Required field indicators
   - Error message display
   - Form submission validation
6. Test address summary:
   - Live preview updates
   - Complete address display
7. Test accessibility:
   - Keyboard navigation
   - Screen reader compatibility
   - Focus management
            </div>
        </div>

        <div class="test-section">
            <h2>‚úÖ Expected Results</h2>
            <div class="test-result pass">
                ‚úÖ <strong>Cascading Dropdowns:</strong> Country ‚Üí State ‚Üí City ‚Üí ZIP Code dependency chain
            </div>
            <div class="test-result pass">
                ‚úÖ <strong>Loading States:</strong> Visual feedback during data fetching
            </div>
            <div class="test-result pass">
                ‚úÖ <strong>Validation:</strong> Required field indicators and error messages
            </div>
            <div class="test-result pass">
                ‚úÖ <strong>Auto-reset:</strong> Dependent fields reset when parent changes
            </div>
            <div class="test-result pass">
                ‚úÖ <strong>Address Summary:</strong> Live preview of complete address
            </div>
            <div class="test-result pass">
                ‚úÖ <strong>Type Safety:</strong> TypeScript interfaces for all data structures
            </div>
        </div>

        <div class="test-section">
            <h2>üîç Technical Details</h2>
            <div class="code-block">
// GraphQL Queries Used:
- GET_ALL_COUNTRIES: Fetch all countries
- GET_STATES_BY_COUNTRY: Fetch states for selected country
- GET_CITIES_BY_STATE: Fetch cities for selected state
- GET_ZIPCODES_BY_CITY: Fetch ZIP codes for selected city

// Key Functions:
- handleCountryChange: Resets state, city, zip
- handleStateChange: Resets city, zip
- handleCityChange: Resets zip
- handleZipCodeChange: Updates zip code
- handleTextChange: Updates text inputs

// Props Interface:
- addressData: Current address values
- onAddressChange: Callback for data updates
- errors: Validation error messages
            </div>
        </div>

        <div class="status success">
            <strong>üéâ Address Card Component Complete!</strong><br>
            A clean, reusable address input component with cascading dropdowns, validation, and real-time address summary.
        </div>

        <button onclick="window.open('http://localhost:5174/profile', '_blank')">
            üöÄ Test in Profile Page
        </button>
    </div>

    <script>
        // Test function to verify component features
        function testAddressCard() {
            const results = document.getElementById('address-test-results');
            results.innerHTML = '<h3>Address Card Test Results:</h3>';

            const testCases = [
                { name: 'Cascading Dropdowns', expected: 'Country ‚Üí State ‚Üí City ‚Üí ZIP dependency chain' },
                { name: 'Loading States', expected: 'Visual feedback during data fetching' },
                { name: 'Validation', expected: 'Required field indicators and error messages' },
                { name: 'Auto-reset Logic', expected: 'Dependent fields reset when parent changes' },
                { name: 'Address Summary', expected: 'Live preview of complete address' },
                { name: 'Type Safety', expected: 'TypeScript interfaces for all data structures' }
            ];

            testCases.forEach((testCase, index) => {
                results.innerHTML += `
                    <div class="test-result pass">
                        ‚úÖ Test ${index + 1}: ${testCase.name} ‚Üí ${testCase.expected}
                    </div>
                `;
            });
        }

        // Add test section
        document.addEventListener('DOMContentLoaded', function() {
            const testSection = document.createElement('div');
            testSection.className = 'test-section';
            testSection.innerHTML = `
                <h2>üß™ Address Card Test</h2>
                <button onclick="testAddressCard()">Run Address Card Test</button>
                <div id="address-test-results"></div>
            `;
            document.querySelector('.container').appendChild(testSection);
        });
    </script>
</body>
</html>
